(this.webpackJsonpmaze_generator=this.webpackJsonpmaze_generator||[]).push([[0],{15:function(e,t,n){},16:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n(0),a=n.n(r),i=n(9),l=n.n(i),u=(n(15),n(2)),o=(n(16),n(4)),s=[],f=function(e){var t=Object(r.useState)(!0),n=Object(u.a)(t,2),a=n[0],i=n[1],l=Object(r.useState)([]),f=Object(u.a)(l,2),j=f[0],h=f[1],b=Object(r.useState)(null),d=Object(u.a)(b,2),O=d[0],v=d[1],g=Object(r.useState)(0),m=Object(u.a)(g,2),p=m[0],x=m[1],w=Object(r.useState)([0]),S=Object(u.a)(w,2),_=S[0],y=S[1],C=e.numberOfPixel,z=e.pixelSize,E=e.wallSize,M=Object(r.useState)(!0),W=Object(u.a)(M,2),N=W[0],R=W[1],k=Object(r.useRef)(null);function P(e,t){var n=this;this.x=e,this.y=t,this.rightWall=!1,this.downWall=!1,this.visited=!1,this.display=function(){console.log(n.x,n.y,n.visited)},this.fillWalls=function(e){var t=k.current.getContext("2d");t.fillStyle="red",1===e?(n.rightWall=!0,t.fillRect(n.x+z,n.y,E,z)):(n.downWall=!0,t.fillRect(n.x,n.y+z,z,E))}}Object(r.useEffect)((function(){return function(){if(null!==k.current){var t=k.current.getContext("2d");R((function(){return!1})),i(!0),h([]),v(null),x(0),y([0]),s=[],e.onEnd(!1),t.clearRect(0,0,t.canvas.width,t.canvas.height)}}}),[C,z,E]),Object(r.useEffect)((function(){_[_.length-1]===Math.pow(C,2)-1&&e.onCompleted(!0)}),[_]);var F=function(e){var t=_[_.length-2],n=_[_.length-1];if(t&&t===e){var c=n-t;return console.log(c,t,n),c>0?K(e,"red",!0,c!==C):c===-C?K(e,"red",!0,!0):K(n,"red",!1,!1),y((function(e){return e.slice(0,e.length-1)})),!1}return!0},K=function(e,t,n,c){var r=k.current.getContext("2d");r.fillStyle=t;var a=s[e].x,i=s[e].y,l=z,u=z;n&&(c?a+=z:i+=z),c?l+=E:u+=E,console.log(a,i,l,u,e),r.fillRect(a,i,l,u)};Object(r.useEffect)((function(){if(0!==e.left){var t=_[_.length-1];t-1>0&&t%C!==0&&s[t-1].rightWall&&F(t-1)&&(K(t-1,"green",!1,!0),y((function(e){return[].concat(Object(o.a)(e),[t-1])})))}}),[e.left]),Object(r.useEffect)((function(){if(0!==e.up){var t=_[_.length-1];t-C>0&&s[t-C].downWall&&F(t-C)&&(K(t-C,"green",!1,!1),y((function(e){return[].concat(Object(o.a)(e),[t-C])})))}}),[e.up]),Object(r.useEffect)((function(){if(0!==e.right){var t=_[_.length-1];s[t].rightWall&&t+1<Math.pow(C,2)&&(t+1)%C!==0&&F(t+1)&&(K(t,"green",!0,!0),y((function(e){return[].concat(Object(o.a)(e),[t+1])})))}}),[e.right]),Object(r.useEffect)((function(){if(0!==e.down){var t=_[_.length-1];s[t].downWall&&t+C<Math.pow(C,2)&&F(t+C)&&(K(t,"green",!0,!1),y((function(e){return[].concat(Object(o.a)(e),[t+C])})))}}),[e.down]);var L=function(t){var n=function(e){var t=[];return e-C>0&&t.push(e-C),e+C<Math.pow(C,2)&&t.push(e+C),e-1>0&&e%C!==0&&t.push(e-1),e+1<Math.pow(C,2)&&(e+1)%C!==0&&t.push(e+1),t.filter((function(e){return!s.length||!e||!0!==s[e].visited}))}(t);if(p===Math.pow(C,2)-1)return function(){var e=k.current.getContext("2d");e.fillStyle="green",e.fillRect(0,0,z,z),e.fillStyle="blue",e.fillRect(C*(E+z)-z,C*(E+z)-z,z,z)}(),void e.onEnd(!0);if(0!=n.length){var c=n[Math.floor(Math.random()*n.length)];h((function(e){return[].concat(Object(o.a)(e),[t])})),function(e,t){var n=t-e;1===n?s[e].fillWalls(1):-1===n?s[t].fillWalls(1):n>0?s[e].fillWalls(-1):s[t].fillWalls(-1)}(t,c),!1===s[c].visited&&x((function(e){return e+1})),s[c].visited=!0,setTimeout((function(){return v(c)}),10)}else if(j.length>0){var r=j[j.length-1],a=j.slice(0,j.length-1);h((function(e){return a})),setTimeout((function(){return v(r)}),10)}};return Object(r.useEffect)((function(){null!==O&&N&&L(O)}),[O]),Object(r.useEffect)((function(){if(null!=a){e.onCompleted(!1);var t=k.current.getContext("2d");i(null),t.clearRect(0,0,t.canvas.width,t.canvas.height),t.fillStyle="#000000",t.fillRect(0,0,t.canvas.width,t.canvas.height),t.fillStyle="red";for(var n,c=[],r=0;r<t.canvas.height;){for(n=0;n<t.canvas.width;){t.fillRect(n,r,z,z);var l=new P(n,r);c.push(l),n+=z+E}r+=z+E}s=[].concat(c),R(!0),x(1),v(0)}}),[a]),Object(c.jsx)("canvas",{ref:k,width:(E+z)*C-E,height:(E+z)*C-E})},j=n(8),h=n.n(j),b=function(e){return Object(c.jsxs)("div",{className:h.a.wrapper,children:[Object(c.jsx)("h1",{children:"Maze size"}),Object(c.jsx)("h1",{className:h.a.text,children:e.value}),Object(c.jsx)("input",{type:"range",min:e.min,max:e.max,value:e.value,onChange:e.onChange})]})},d=n(3),O=n.n(d);var v=function(){var e=Object(r.useState)(!0),t=Object(u.a)(e,2),n=t[0],a=(t[1],Object(r.useState)(!1)),i=Object(u.a)(a,2),l=i[0],o=i[1],s=Object(r.useState)(0),j=Object(u.a)(s,2),h=j[0],d=j[1],v=Object(r.useState)(0),g=Object(u.a)(v,2),m=g[0],p=g[1],x=Object(r.useState)(0),w=Object(u.a)(x,2),S=w[0],_=w[1],y=Object(r.useState)(0),C=Object(u.a)(y,2),z=C[0],E=C[1],M=Object(r.useState)(!1),W=Object(u.a)(M,2),N=W[0],R=W[1],k=Object(r.useState)(4),P=Object(u.a)(k,2),F=P[0],K=P[1],L=function(e){var t=e.code;"KeyW"===t?d((function(e){return e+1})):"KeyD"===t?E((function(e){return e+1})):"KeyS"===t?p((function(e){return e+1})):"KeyA"===t&&_((function(e){return e+1}))};return Object(r.useEffect)((function(){console.log(F)}),[F]),Object(r.useEffect)((function(){return l&&window.addEventListener("keypress",L),function(){return window.removeEventListener("keypress",L)}}),[l]),Object(c.jsxs)("div",{className:O.a.app,onKeyDown:function(e){return console.log("ckjaj")},children:[Object(c.jsx)("div",{className:O.a.controls,children:Object(c.jsx)(b,{min:4,max:30,value:F,onChange:function(e){return K(+e.target.value)}})}),Object(c.jsxs)("div",{className:O.a.maze,children:[Object(c.jsx)(f,{numberOfPixel:F,pixelSize:24,wallSize:4,mazeState:n,onEnd:function(e){return o(e)},onCompleted:function(e){return R(e)},up:h,down:m,left:S,right:z}),N?Object(c.jsx)("h1",{style:{color:"green"},children:"completed"}):null]}),Object(c.jsx)("div",{className:O.a.movement,children:l?Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:O.a.row,children:Object(c.jsx)("button",{className:O.a.but,onClick:function(){return d((function(e){return e+1}))},children:"up"})}),Object(c.jsxs)("div",{className:O.a.row,children:[Object(c.jsx)("button",{className:O.a.but,onClick:function(){return _((function(e){return e+1}))},children:"left"}),Object(c.jsx)("button",{className:O.a.but,onClick:function(){return p((function(e){return e+1}))},children:"bottom"}),Object(c.jsx)("button",{className:O.a.but,onClick:function(){return E((function(e){return e+1}))},children:"right"})]})]}):null})]})},g=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,18)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),a(e),i(e)}))};l.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(v,{})}),document.getElementById("root")),g()},3:function(e,t,n){e.exports={row:"Maze_row__1uNhP",but:"Maze_but__EIOX3",slider:"Maze_slider__1nejW",app:"Maze_app__3m9Eq",controls:"Maze_controls__2TPte",maze:"Maze_maze__38rCF",movement:"Maze_movement__2BRMy"}},8:function(e,t,n){e.exports={wrapper:"Slider_wrapper__1yCH6",text:"Slider_text__3mdAL"}}},[[17,1,2]]]);
//# sourceMappingURL=main.71dbc7e3.chunk.js.map