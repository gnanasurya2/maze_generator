(this.webpackJsonpmaze_generator=this.webpackJsonpmaze_generator||[]).push([[0],{15:function(e,t,n){},16:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n(0),l=n.n(r),a=n(9),i=n.n(a),o=(n(15),n(2)),u=(n(16),n(4)),s=[],f=function(e){var t=Object(r.useState)(!0),n=Object(o.a)(t,2),l=n[0],a=n[1],i=Object(r.useState)([]),f=Object(o.a)(i,2),j=f[0],h=f[1],b=Object(r.useState)(null),d=Object(o.a)(b,2),O=d[0],g=d[1],v=Object(r.useState)(0),m=Object(o.a)(v,2),x=m[0],p=m[1],w=Object(r.useState)([0]),S=Object(o.a)(w,2),_=S[0],y=S[1],z=e.numberOfPixel,E=e.pixelSize,C=e.wallSize,M=Object(r.useState)(!0),W=Object(o.a)(M,2),N=W[0],k=W[1],R=Object(r.useRef)(null);function P(e,t){var n=this;this.x=e,this.y=t,this.rightWall=!1,this.downWall=!1,this.visited=!1,this.display=function(){console.log(n.x,n.y,n.visited)},this.fillWalls=function(e){var t=R.current.getContext("2d");t.fillStyle="red",1===e?(n.rightWall=!0,t.fillRect(n.x+E,n.y,C,E)):(n.downWall=!0,t.fillRect(n.x,n.y+E,E,C))}}Object(r.useEffect)((function(){console.log({stack:j,restart:l,current:O,numberOfVisited:x,tracked:_})}),[N]),Object(r.useEffect)((function(){return function(){if(null!==R.current){var t=R.current.getContext("2d");k((function(){return!1})),a(!0),h([]),g(null),p(0),y([0]),s=[],e.onEnd(!1),t.clearRect(0,0,t.canvas.width,t.canvas.height)}}}),[z,E,C]),Object(r.useEffect)((function(){return console.log(_)}),[_]);var F=function(e){var t=_[_.length-2],n=_[_.length-1];if(console.log(e,t,n),t&&t===e){console.log("reverse");var c=n-t;return console.log(c),c>0?K(e,"red",!0,c!==z):K(e,"red",c===-z,!0),y((function(e){return e.slice(0,e.length-1)})),!1}return!0},K=function(e,t,n,c){var r=R.current.getContext("2d");r.fillStyle=t;var l=s[e].x,a=s[e].y,i=E,o=E;n&&(c?l+=E:a+=E),c?i+=C:o+=C,r.fillRect(l,a,i,o)};Object(r.useEffect)((function(){if(0!==e.left){var t=_[_.length-1];t-1>0&&t%z!==0&&s[t-1].rightWall&&F(t-1)&&(K(t-1,"green",!1,!0),y((function(e){return[].concat(Object(u.a)(e),[t-1])})))}}),[e.left]),Object(r.useEffect)((function(){if(0!==e.up){console.log("up");var t=_[_.length-1];t-z>0&&s[t-z].downWall&&F(t-z)&&(K(t-z,"green",!1,!1),y((function(e){return[].concat(Object(u.a)(e),[t-z])})))}}),[e.up]),Object(r.useEffect)((function(){if(0!==e.right){console.log("right");var t=_[_.length-1];s[t].rightWall&&t+1<Math.pow(z,2)&&(t+1)%z!==0&&F(t+1)&&(K(t,"green",!0,!0),y((function(e){return[].concat(Object(u.a)(e),[t+1])})))}}),[e.right]),Object(r.useEffect)((function(){if(0!==e.down){console.log("down");var t=_[_.length-1];s[t].downWall&&t+z<Math.pow(z,2)&&F(t+z)&&(K(t,"green",!0,!1),y((function(e){return[].concat(Object(u.a)(e),[t+z])})))}}),[e.down]);var L=function(t){var n=function(e){var t=[];return e-z>0&&t.push(e-z),e+z<Math.pow(z,2)&&t.push(e+z),e-1>0&&e%z!==0&&t.push(e-1),e+1<Math.pow(z,2)&&(e+1)%z!==0&&t.push(e+1),t.filter((function(e){return!s.length||!e||!0!==s[e].visited}))}(t);if(x===Math.pow(z,2)-1)return console.log("end"),function(){var e=R.current.getContext("2d");e.fillStyle="green",e.fillRect(0,0,E,E),e.fillStyle="blue",e.fillRect(z*(C+E)-E,z*(C+E)-E,E,E)}(),void e.onEnd(!0);if(0!=n.length){var c=n[Math.floor(Math.random()*n.length)];console.log(c),h((function(e){return[].concat(Object(u.a)(e),[t])})),function(e,t){var n=t-e;1===n?s[e].fillWalls(1):-1===n?s[t].fillWalls(1):n>0?s[e].fillWalls(-1):s[t].fillWalls(-1)}(t,c),!1===s[c].visited&&p((function(e){return e+1})),s[c].visited=!0,setTimeout((function(){return g(c)}),10)}else if(j.length>0){var r=j[j.length-1],l=j.slice(0,j.length-1);h((function(e){return l})),setTimeout((function(){return g(r)}),10)}};return Object(r.useEffect)((function(){null!==O&&N&&L(O)}),[O]),Object(r.useEffect)((function(){if(null!=l){var e=R.current.getContext("2d");a(null),e.clearRect(0,0,e.canvas.width,e.canvas.height),e.fillStyle="#000000",e.fillRect(0,0,e.canvas.width,e.canvas.height),e.fillStyle="red";for(var t,n=[],c=0;c<e.canvas.height;){for(t=0;t<e.canvas.width;){e.fillRect(t,c,E,E);var r=new P(t,c);n.push(r),t+=E+C}c+=E+C}s=[].concat(n),console.log(s.length,"initial",z),k(!0),p(1),g(0)}}),[l]),Object(c.jsx)("canvas",{ref:R,width:(C+E)*z-C,height:(C+E)*z-C})},j=n(8),h=n.n(j),b=function(e){return Object(c.jsxs)("div",{className:h.a.wrapper,children:[Object(c.jsx)("h1",{children:"Maze size"}),Object(c.jsx)("h1",{className:h.a.text,children:e.value}),Object(c.jsx)("input",{type:"range",min:e.min,max:e.max,value:e.value,onChange:e.onChange})]})},d=n(3),O=n.n(d);var g=function(){var e=Object(r.useState)(!0),t=Object(o.a)(e,2),n=t[0],l=(t[1],Object(r.useState)(!1)),a=Object(o.a)(l,2),i=a[0],u=a[1],s=Object(r.useState)(0),j=Object(o.a)(s,2),h=j[0],d=j[1],g=Object(r.useState)(0),v=Object(o.a)(g,2),m=v[0],x=v[1],p=Object(r.useState)(0),w=Object(o.a)(p,2),S=w[0],_=w[1],y=Object(r.useState)(0),z=Object(o.a)(y,2),E=z[0],C=z[1],M=Object(r.useState)(6),W=Object(o.a)(M,2),N=W[0],k=W[1],R=function(e){var t=e.code;"KeyW"===t?d((function(e){return e+1})):"KeyD"===t?C((function(e){return e+1})):"KeyS"===t?x((function(e){return e+1})):"KeyA"===t&&_((function(e){return e+1}))};return Object(r.useEffect)((function(){console.log(N)}),[N]),Object(r.useEffect)((function(){return i&&window.addEventListener("keypress",R),function(){return window.removeEventListener("keypress",R)}}),[i]),Object(c.jsxs)("div",{className:O.a.app,onKeyDown:function(e){return console.log("ckjaj")},children:[Object(c.jsx)("div",{className:O.a.controls,children:Object(c.jsx)(b,{min:4,max:30,value:N,onChange:function(e){return k(+e.target.value)}})}),Object(c.jsx)("div",{className:O.a.maze,children:Object(c.jsx)(f,{numberOfPixel:N,pixelSize:24,wallSize:4,mazeState:n,onEnd:function(e){return u(e)},up:h,down:m,left:S,right:E})}),Object(c.jsx)("div",{className:O.a.movement,children:i?Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:O.a.row,children:Object(c.jsx)("button",{className:O.a.but,onClick:function(){return d((function(e){return e+1}))},children:"up"})}),Object(c.jsxs)("div",{className:O.a.row,children:[Object(c.jsx)("button",{className:O.a.but,onClick:function(){return _((function(e){return e+1}))},children:"left"}),Object(c.jsx)("button",{className:O.a.but,onClick:function(){return x((function(e){return e+1}))},children:"bottom"}),Object(c.jsx)("button",{className:O.a.but,onClick:function(){return C((function(e){return e+1}))},children:"right"})]})]}):null})]})},v=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,18)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,l=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),l(e),a(e)}))};i.a.render(Object(c.jsx)(l.a.StrictMode,{children:Object(c.jsx)(g,{})}),document.getElementById("root")),v()},3:function(e,t,n){e.exports={row:"Maze_row__1uNhP",but:"Maze_but__EIOX3",slider:"Maze_slider__1nejW",app:"Maze_app__3m9Eq",controls:"Maze_controls__2TPte",maze:"Maze_maze__38rCF",movement:"Maze_movement__2BRMy"}},8:function(e,t,n){e.exports={wrapper:"Slider_wrapper__1yCH6",text:"Slider_text__3mdAL"}}},[[17,1,2]]]);
//# sourceMappingURL=main.e64fb404.chunk.js.map