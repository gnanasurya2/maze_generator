(this.webpackJsonpmaze_generator=this.webpackJsonpmaze_generator||[]).push([[0],{14:function(t,e,n){},15:function(t,e,n){},16:function(t,e,n){"use strict";n.r(e);var c=n(1),r=n(0),i=n.n(r),l=n(8),u=n.n(l),o=(n(14),n(2)),a=(n(15),n(4)),s=[],f=function(t){var e=Object(r.useState)(!0),n=Object(o.a)(e,2),i=n[0],l=n[1],u=Object(r.useState)([]),f=Object(o.a)(u,2),h=f[0],b=f[1],j=Object(r.useState)(null),d=Object(o.a)(j,2),g=d[0],O=d[1],v=Object(r.useState)(0),w=Object(o.a)(v,2),p=w[0],x=w[1],S=t.numberOfPixel,y=t.pixelSize,m=t.wallSize,E=Object(r.useState)([0]),W=Object(o.a)(E,2),C=W[0],M=W[1],R=Object(r.useRef)(null);function k(t,e){var n=this;this.x=t,this.y=e,this.rightWall=!1,this.downWall=!1,this.visited=!1,this.display=function(){console.log(n.x,n.y,n.visited)},this.fillWalls=function(t){var e=R.current.getContext("2d");e.fillStyle="red",1===t?(n.rightWall=!0,e.fillRect(n.x+y,n.y,m,y)):(n.downWall=!0,e.fillRect(n.x,n.y+y,y,m))}}Object(r.useEffect)((function(){return console.log(C)}),[C]);var z=function(t){var e=C[C.length-2],n=C[C.length-1];if(console.log(t,e,n),e&&e===t){console.log("reverse");var c=n-e;return console.log(c),c>0?N(t,"red",!0,c!==S):N(t,"red",c===-S,!0),M((function(t){return t.slice(0,t.length-1)})),!1}return!0},N=function(t,e,n,c){var r=R.current.getContext("2d");r.fillStyle=e;var i=s[t].x,l=s[t].y,u=y,o=y;n&&(c?i+=y:l+=y),c?u+=m:o+=m,r.fillRect(i,l,u,o)};Object(r.useEffect)((function(){return function(){if(null!==R.current){var e=R.current.getContext("2d");l(!0),O(null),M([0,0]),s=[],t.onEnd(!1),e.clearRect(0,0,e.canvas.width,e.canvas.height)}}}),[S,y,m]),Object(r.useEffect)((function(){if(0!==t.left){var e=C[C.length-1];e-1>0&&e%S!==0&&s[e-1].rightWall&&z(e-1)&&(N(e-1,"green",!1,!0),M((function(t){return[].concat(Object(a.a)(t),[e-1])})))}}),[t.left]),Object(r.useEffect)((function(){if(0!==t.up){console.log("up");var e=C[C.length-1];e-S>0&&s[e-S].downWall&&z(e-S)&&(N(e-S,"green",!1,!1),M((function(t){return[].concat(Object(a.a)(t),[e-S])})))}}),[t.up]),Object(r.useEffect)((function(){if(0!==t.right){console.log("right");var e=C[C.length-1];s[e].rightWall&&e+1<Math.pow(S,2)&&(e+1)%S!==0&&z(e+1)&&(N(e,"green",!0,!0),M((function(t){return[].concat(Object(a.a)(t),[e+1])})))}}),[t.right]),Object(r.useEffect)((function(){if(0!==t.down){console.log("down");var e=C[C.length-1];s[e].downWall&&e+S<Math.pow(S,2)&&z(e+S)&&(N(e,"green",!0,!1),M((function(t){return[].concat(Object(a.a)(t),[e+S])})))}}),[t.down]);var _=function(e){var n=function(t){var e=[];return t-S>0&&e.push(t-S),t+S<Math.pow(S,2)&&e.push(t+S),t-1>0&&t%S!==0&&e.push(t-1),t+1<Math.pow(S,2)&&(t+1)%S!==0&&e.push(t+1),e.filter((function(t){return!s.length||!0!==s[t].visited}))}(e);if(p===Math.pow(S,2)-1)return console.log("end"),function(){var t=R.current.getContext("2d");t.fillStyle="green",t.fillRect(0,0,y,y),t.fillStyle="blue",t.fillRect(S*(m+y)-y,S*(m+y)-y,y,y)}(),void t.onEnd(!0);if(0!=n.length){var c=n[Math.floor(Math.random()*n.length)];b((function(t){return[].concat(Object(a.a)(t),[e])})),function(t,e){var n=e-t;1===n?s[t].fillWalls(1):-1===n?s[e].fillWalls(1):n>0?s[t].fillWalls(-1):s[e].fillWalls(-1)}(e,c),!1===s[c].visited&&x((function(t){return t+1})),s[c].visited=!0,setTimeout((function(){return O(c)}),10)}else if(h.length>0){var r=h[h.length-1],i=h.slice(0,h.length-1);b((function(t){return i})),setTimeout((function(){return O(r)}),10)}};return Object(r.useEffect)((function(){null!==g&&_(g)}),[g]),Object(r.useEffect)((function(){if(null!=i){var t=R.current.getContext("2d");l(null),t.clearRect(0,0,t.canvas.width,t.canvas.height),t.fillStyle="#000000",t.fillRect(0,0,t.canvas.width,t.canvas.height),t.fillStyle="red";for(var e,n=[],c=0;c<t.canvas.height;){for(e=0;e<t.canvas.width;){t.fillRect(e,c,y,y);var r=new k(e,c);n.push(r),e+=y+m}c+=y+m}s=[].concat(n),x(1),O(0)}}),[i]),Object(c.jsx)("canvas",{ref:R,width:(m+y)*S-m,height:(m+y)*S-m})},h=n(3),b=n.n(h);var j=function(){var t=Object(r.useState)(!0),e=Object(o.a)(t,2),n=e[0],i=(e[1],Object(r.useState)(!1)),l=Object(o.a)(i,2),u=l[0],a=l[1],s=Object(r.useState)(0),h=Object(o.a)(s,2),j=h[0],d=h[1],g=Object(r.useState)(0),O=Object(o.a)(g,2),v=O[0],w=O[1],p=Object(r.useState)(0),x=Object(o.a)(p,2),S=x[0],y=x[1],m=Object(r.useState)(0),E=Object(o.a)(m,2),W=E[0],C=E[1],M=function(t){var e=t.code;"KeyW"===e?d((function(t){return t+1})):"KeyD"===e?C((function(t){return t+1})):"KeyS"===e?w((function(t){return t+1})):"KeyA"===e&&y((function(t){return t+1}))};return Object(r.useEffect)((function(){return u&&window.addEventListener("keypress",M),function(){return window.removeEventListener("keypress",M)}}),[u]),Object(c.jsxs)("div",{className:"App",onKeyDown:function(t){return console.log("ckjaj")},children:[Object(c.jsx)(f,{numberOfPixel:30,pixelSize:20,wallSize:4,mazeState:n,onEnd:function(t){return a(t)},up:j,down:v,left:S,right:W}),u?Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:b.a.row,children:Object(c.jsx)("button",{className:b.a.but,onClick:function(){return d((function(t){return t+1}))},children:"up"})}),Object(c.jsxs)("div",{className:b.a.row,children:[Object(c.jsx)("button",{className:b.a.but,onClick:function(){return y((function(t){return t+1}))},children:"left"}),Object(c.jsx)("button",{className:b.a.but,onClick:function(){return w((function(t){return t+1}))},children:"bottom"}),Object(c.jsx)("button",{className:b.a.but,onClick:function(){return C((function(t){return t+1}))},children:"right"})]})]}):null]})},d=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,17)).then((function(e){var n=e.getCLS,c=e.getFID,r=e.getFCP,i=e.getLCP,l=e.getTTFB;n(t),c(t),r(t),i(t),l(t)}))};u.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(j,{})}),document.getElementById("root")),d()},3:function(t,e,n){t.exports={row:"Maze_row__1uNhP",but:"Maze_but__EIOX3"}}},[[16,1,2]]]);
//# sourceMappingURL=main.dd00bdce.chunk.js.map